{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/noamlubofsky/Flatiron/Code/phase5/final-project/unicart/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";import _slicedToArray from\"/Users/noamlubofsky/Flatiron/Code/phase5/final-project/unicart/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8,_templateObject9;import React,{useState,useEffect}from\"react\";import styled from\"styled-components\";import CartItem from\"./CartItem\";import{useHistory}from\"react-router\";import{useParams}from\"react-router-dom\";import Checkout from\"./Checkout\";import{Switch,Route,Redirect}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ShoppingCart(_ref){var shoppingCart=_ref.shoppingCart,updateCartItemQuantity=_ref.updateCartItemQuantity,removeFromCart=_ref.removeFromCart;var history=useHistory();var id=useParams().id;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),cart=_useState2[0],setCart=_useState2[1];useEffect(function(){fetch(\"/shopping_carts/\".concat(id)).then(function(res){return res.json();}).then(function(data){setCart(data);});},[id]);var userCartItems=shoppingCart.filter(function(item){return item.shopping_cart.id===cart.id;});var shop=function shop(){history.push(\"/products\");};var checkout=function checkout(){history.push(\"/checkout\");};var totals=userCartItems.map(function(item){return item.quantity*item.product.price;});var totalPrice=totals.reduce(function(prev,cur){return prev+cur;},0);function numberWithCommas(x){return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g,\",\");}return/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(\"div\",{children:!userCartItems.length?/*#__PURE__*/_jsx(Container1,{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Empty,{children:\"Your Cart is Empty \\u2639\\uFE0F\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{class:\"wrapper\",children:/*#__PURE__*/_jsx(\"div\",{class:\"link_wrapper\",children:/*#__PURE__*/_jsx(\"button\",{onClick:shop,children:\"Go Shop!\"})})})]})}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{children:/*#__PURE__*/_jsx(YourCart,{children:\"Your Cart\"})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Price,{children:\"Price\"}),/*#__PURE__*/_jsx(Line,{}),userCartItems.map(function(item){return/*#__PURE__*/_jsx(CartItem,{item:item,updateCartItemQuantity:updateCartItemQuantity,removeFromCart:removeFromCart},item.id);}),/*#__PURE__*/_jsx(Total,{children:/*#__PURE__*/_jsxs(\"strong\",{children:[\"Total: $\",numberWithCommas(totalPrice)]})})]}),/*#__PURE__*/_jsx(CheckoutButton,{onClick:checkout,children:\"Checkout\"})]})})});}var Header=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n// margin-bottom: 3%;\\n\"])));var YourCart=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\nfloat: left;\\nmargin-left: 3%;\\nfont-size: 6vh;\\nfont-weight: bold;\\nmargin-bottom: 5px;\\nfont-family: 'Dosis', sans-serif;\\n\"])));var Price=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\nfloat: right;\\nmargin-bottom: 5px;\\nfont-size: 4vh;\\nmargin-right: 14%;\\nfont-family: 'Dosis', sans-serif;\\n\\n\"])));var CheckoutButton=styled.button(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\nalign-items: center;\\njustify-content: center;\\nmargin-top: 3%;\\nmargin-left: 40%;\\nheight: 10vh;\\nwidth: 15vw;\\n&:hover {\\n  width: 20vw;\\n}\\n\"])));var Total=styled.div(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\nfloat: right;\\nmargin-bottom: 5px;\\nfont-size: 6vh;\\nmargin-right: 10%;\\nfont-family: 'Dosis', sans-serif;\\n\\n\"])));var Line=styled.div(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\nmargin-top: 50px;\\n  border-bottom: 4px solid rgb(27, 44, 77)\\n\"])));var Container=styled.div(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\njustify-content: center;\\nalign-items: center;\\n  margin-bottom: 400px;\\n\"])));var Container1=styled.div(_templateObject8||(_templateObject8=_taggedTemplateLiteral([\"\\n// margin-left: 10%;\\nalign-items: center;\\njustify-content: center;\\nmargin-top: 50px;\\ndisplay: grid;\\n// margin-bottom: 45vh;\\n\"])));var Empty=styled.div(_templateObject9||(_templateObject9=_taggedTemplateLiteral([\"\\n// float: right;\\n// margin-right: 5%;\\nmargin-bottom: 4vh;\\nfont-size: 4em;\\nfont-family: 'Dosis', sans-serif;\\n\\n\"])));export default ShoppingCart;","map":{"version":3,"sources":["/Users/noamlubofsky/Flatiron/Code/phase5/final-project/unicart/client/src/components/ShoppingCart.js"],"names":["React","useState","useEffect","styled","CartItem","useHistory","useParams","Checkout","Switch","Route","Redirect","ShoppingCart","shoppingCart","updateCartItemQuantity","removeFromCart","history","id","cart","setCart","fetch","then","res","json","data","userCartItems","filter","item","shopping_cart","shop","push","checkout","totals","map","quantity","product","price","totalPrice","reduce","prev","cur","numberWithCommas","x","toString","replace","length","Header","div","YourCart","Price","CheckoutButton","button","Total","Line","Container","Container1","Empty"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport CartItem from \"./CartItem\"\nimport {useHistory} from \"react-router\";\nimport { useParams } from \"react-router-dom\";\nimport Checkout from \"./Checkout\"\nimport { Switch, Route, Redirect} from \"react-router-dom\";\n\n\nfunction ShoppingCart({shoppingCart, updateCartItemQuantity, removeFromCart}) {\n  let history = useHistory();\n  const id = useParams().id;\n\n  const [cart, setCart] = useState([])\n\n  useEffect(() => {\n    fetch(`/shopping_carts/${id}`)\n      .then((res) => res.json())\n      .then((data) => {\n        setCart(data);\n      });\n  }, [id]);\n  \n  const userCartItems = shoppingCart.filter(item => \n    item.shopping_cart.id === cart.id)\n    \n    const shop = () => {\n      history.push(\"/products\")\n    }\n\n    const checkout = () => {\n      history.push(\"/checkout\")\n    }\n\n  let totals = userCartItems.map((item) => (item.quantity * item.product.price))\n\n  var totalPrice = totals.reduce(function(prev, cur) {\n    return prev + cur;\n  }, 0);\n\n  function numberWithCommas(x) {\n    return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n  }\n\n\n    return(\n      <Container>\n      <div>\n\n        {!userCartItems.length ? \n        <Container1>\n        <div><Empty>Your Cart is Empty ☹️</Empty>\n        <br></br>          \n        <div class=\"wrapper\" >\n      <div class=\"link_wrapper\">\n    <button onClick={shop}>Go Shop!</button>\n  </div>\n</div> \n</div> \n</Container1>: \n        <div>\n          <div>\n            <Header>\n          <YourCart>Your Cart</YourCart>\n          </Header>\n          <br></br>\n          <Price>Price</Price>\n          <Line/>\n       {userCartItems.map(item => (\n          <CartItem\n            key={item.id}\n            item={item}\n            updateCartItemQuantity={updateCartItemQuantity}\n            removeFromCart={removeFromCart}\n          />\n        ))}        \n        <Total><strong>Total: ${numberWithCommas(totalPrice)}</strong></Total>\n        </div>\n\n        {/* <Switch>\n        <Route path=\"/checkout\">\n            <Checkout\n            />\n          </Route>\n        </Switch> */}\n\n        <CheckoutButton onClick={checkout}>Checkout</CheckoutButton>\n        </div>\n        }\n        </div>\n        </Container>\n    )\n}\n\nconst Header = styled.div`\n// margin-bottom: 3%;\n`;\n\nconst YourCart = styled.div`\nfloat: left;\nmargin-left: 3%;\nfont-size: 6vh;\nfont-weight: bold;\nmargin-bottom: 5px;\nfont-family: 'Dosis', sans-serif;\n`;\n\nconst Price = styled.div`\nfloat: right;\nmargin-bottom: 5px;\nfont-size: 4vh;\nmargin-right: 14%;\nfont-family: 'Dosis', sans-serif;\n\n`;\n\nconst CheckoutButton = styled.button`\nalign-items: center;\njustify-content: center;\nmargin-top: 3%;\nmargin-left: 40%;\nheight: 10vh;\nwidth: 15vw;\n&:hover {\n  width: 20vw;\n}\n`;\n\nconst Total = styled.div`\nfloat: right;\nmargin-bottom: 5px;\nfont-size: 6vh;\nmargin-right: 10%;\nfont-family: 'Dosis', sans-serif;\n\n`;\n\nconst Line = styled.div`\nmargin-top: 50px;\n  border-bottom: 4px solid rgb(27, 44, 77)\n`\n\nconst Container = styled.div`\njustify-content: center;\nalign-items: center;\n  margin-bottom: 400px;\n`;\n\nconst Container1 = styled.div`\n// margin-left: 10%;\nalign-items: center;\njustify-content: center;\nmargin-top: 50px;\ndisplay: grid;\n// margin-bottom: 45vh;\n`;\n\nconst Empty = styled.div`\n// float: right;\n// margin-right: 5%;\nmargin-bottom: 4vh;\nfont-size: 4em;\nfont-family: 'Dosis', sans-serif;\n\n`;\n\nexport default ShoppingCart;"]},"metadata":{},"sourceType":"module"}