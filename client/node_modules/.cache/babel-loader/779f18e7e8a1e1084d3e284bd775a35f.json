{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/noamlubofsky/Flatiron/Code/phase5/final-project/unicart/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";import _toConsumableArray from\"/Users/noamlubofsky/Flatiron/Code/phase5/final-project/unicart/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/noamlubofsky/Flatiron/Code/phase5/final-project/unicart/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8,_templateObject9,_templateObject10,_templateObject11,_templateObject12,_templateObject13,_templateObject14,_templateObject15;import React,{useState,useEffect}from\"react\";import{useParams}from\"react-router-dom\";import styled from\"styled-components\";import{useHistory}from\"react-router\";import Review from\"./Review\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ProductDetails(_ref){var handleAddCart=_ref.handleAddCart,user=_ref.user;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),productDetails=_useState2[0],setProductDetails=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),reviews=_useState4[0],setReviews=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isLoading=_useState6[0],setIsLoading=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),related=_useState8[0],setRelated=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),random=_useState10[0],setRandom=_useState10[1];var _useState11=useState(1),_useState12=_slicedToArray(_useState11,2),quantity=_useState12[0],setQuantity=_useState12[1];var _useState13=useState({}),_useState14=_slicedToArray(_useState13,2),store=_useState14[0],setStore=_useState14[1];var _useState15=useState(null),_useState16=_slicedToArray(_useState15,2),review=_useState16[0],setReview=_useState16[1];var history=useHistory();var id=useParams().id;// const category = useParams().category;\n// const storeProducts = products.filter(product => \n//   product.store_id === selectedProduct.store.id)\n//   useEffect(() => {\n//     const shuffled = storeProducts.sort(() => 0.5 - Math.random());\n//     let selected = shuffled.slice(0, 3);\n//     setRandom(selected)\n//     console.log(random)\n//   }, [])\nuseEffect(function(){// setIsLoading(true)\nfetch(\"/products/\".concat(id)).then(function(res){return res.json();}).then(function(data){setProductDetails(data);setStore(data.store);});fetch(\"/reviews/\".concat(id)).then(function(res){return res.json();}).then(function(data){setReviews(data);// setIsLoading(false)\n});},[id]);var createReview=function createReview(content){fetch(\"/reviews\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({product_id:id,content:content})}).then(function(response){return response.json();}).then(function(review){return setReviews([].concat(_toConsumableArray(reviews),[review]));});};var handleSubmit=function handleSubmit(e){e.preventDefault();createReview(review);};function backToStore(){history.push(\"/stores/\".concat(productDetails.store.id));}function toCart(){history.push(\"cart/\".concat(user.id));}var handleChange=function handleChange(e){setQuantity(e.target.value);};var handleClick=function handleClick(id){handleAddCart(id,quantity,store);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Container6,{children:[isLoading?/*#__PURE__*/_jsx(\"h2\",{children:\"Loading\"}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Container4,{onClick:backToStore,children:/*#__PURE__*/_jsx(\"div\",{class:\"wrapper\",children:/*#__PURE__*/_jsx(\"div\",{class:\"link_wrapper\",children:/*#__PURE__*/_jsx(\"button\",{children:\"Back\"})})})}),/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Image,{src:productDetails.image_url,alt:\"Product\"}),/*#__PURE__*/_jsxs(Card2,{children:[/*#__PURE__*/_jsx(\"h2\",{children:productDetails.name}),/*#__PURE__*/_jsxs(\"h4\",{children:[\"$\",productDetails.price]}),/*#__PURE__*/_jsxs(\"h4\",{children:[productDetails.inventory,\" Left in Stock\"]}),/*#__PURE__*/_jsx(\"label\",{for:\"quant\",children:\"Quantity\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"quant\",onChange:handleChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"1\",children:\"1\"}),/*#__PURE__*/_jsx(\"option\",{value:\"2\",children:\"2\"}),/*#__PURE__*/_jsx(\"option\",{value:\"3\",children:\"3\"}),/*#__PURE__*/_jsx(\"option\",{value:\"4\",children:\"4\"}),/*#__PURE__*/_jsx(\"option\",{value:\"5\",children:\"5\"}),/*#__PURE__*/_jsx(\"option\",{value:\"6\",children:\"6\"}),/*#__PURE__*/_jsx(\"option\",{value:\"7\",children:\"7\"}),/*#__PURE__*/_jsx(\"option\",{value:\"8\",children:\"8\"}),/*#__PURE__*/_jsx(\"option\",{value:\"9\",children:\"9\"}),/*#__PURE__*/_jsx(\"option\",{value:\"10\",children:\"10\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Add,{children:/*#__PURE__*/_jsx(\"div\",{class:\"wrapper\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"link_wrapper\",children:[/*#__PURE__*/_jsx(AddButton,{onClick:function onClick(){return handleClick(productDetails.id);},children:\"Add to Cart\"}),/*#__PURE__*/_jsx(\"div\",{class:\"icon\",children:/*#__PURE__*/_jsxs(\"svg\",{class:\"svg-icon\",viewBox:\"0 0 20 20\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M9.941,4.515h1.671v1.671c0,0.231,0.187,0.417,0.417,0.417s0.418-0.187,0.418-0.417V4.515h1.672c0.229,0,0.417-0.187,0.417-0.418c0-0.23-0.188-0.417-0.417-0.417h-1.672V2.009c0-0.23-0.188-0.418-0.418-0.418s-0.417,0.188-0.417,0.418V3.68H9.941c-0.231,0-0.418,0.187-0.418,0.417C9.522,4.329,9.71,4.515,9.941,4.515 M17.445,15.479h0.003l1.672-7.52l-0.009-0.002c0.009-0.032,0.021-0.064,0.021-0.099c0-0.231-0.188-0.417-0.418-0.417H5.319L4.727,5.231L4.721,5.232C4.669,5.061,4.516,4.933,4.327,4.933H1.167c-0.23,0-0.418,0.188-0.418,0.417c0,0.231,0.188,0.418,0.418,0.418h2.839l2.609,9.729h0c0.036,0.118,0.122,0.214,0.233,0.263c-0.156,0.254-0.25,0.551-0.25,0.871c0,0.923,0.748,1.671,1.67,1.671c0.923,0,1.672-0.748,1.672-1.671c0-0.307-0.088-0.589-0.231-0.836h4.641c-0.144,0.247-0.231,0.529-0.231,0.836c0,0.923,0.747,1.671,1.671,1.671c0.922,0,1.671-0.748,1.671-1.671c0-0.32-0.095-0.617-0.252-0.871C17.327,15.709,17.414,15.604,17.445,15.479 M15.745,8.275h2.448l-0.371,1.672h-2.262L15.745,8.275z M5.543,8.275h2.77L8.5,9.947H5.992L5.543,8.275z M6.664,12.453l-0.448-1.671h2.375l0.187,1.671H6.664z M6.888,13.289h1.982l0.186,1.671h-1.72L6.888,13.289zM8.269,17.466c-0.461,0-0.835-0.374-0.835-0.835s0.374-0.836,0.835-0.836c0.462,0,0.836,0.375,0.836,0.836S8.731,17.466,8.269,17.466 M11.612,14.96H9.896l-0.186-1.671h1.901V14.96z M11.612,12.453H9.619l-0.186-1.671h2.18V12.453zM11.612,9.947H9.34L9.154,8.275h2.458V9.947z M14.162,14.96h-1.715v-1.671h1.9L14.162,14.96z M14.441,12.453h-1.994v-1.671h2.18L14.441,12.453z M14.72,9.947h-2.272V8.275h2.458L14.72,9.947z M15.79,17.466c-0.462,0-0.836-0.374-0.836-0.835s0.374-0.836,0.836-0.836c0.461,0,0.835,0.375,0.835,0.836S16.251,17.466,15.79,17.466 M16.708,14.96h-1.705l0.186-1.671h1.891L16.708,14.96z M15.281,12.453l0.187-1.671h2.169l-0.372,1.671H15.281z\"}),\"    \"]})})]})})})]})]})]}),/*#__PURE__*/_jsxs(Container5,{children:[\"Reviews for \",productDetails.name]}),reviews.map(function(review){return/*#__PURE__*/_jsx(Review,{review:review},review.id);})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(FormField,{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"review\",children:\"Write a Review\"}),/*#__PURE__*/_jsx(Textarea,{rows:\"3\",id:\"review\",value:review,onChange:function onChange(e){return setReview(e.target.value);}})]}),/*#__PURE__*/_jsx(FormField,{children:/*#__PURE__*/_jsx(Button,{type:\"submit\",children:\"Submit\"})})]})]});}var Container6=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n// background-image: url(\\\"https://cdn.wallpapersafari.com/90/7/KGe7I0.jpg\\\")\\n\"])));var Add=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n\"])));var AddButton=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\ndisplay: fixed;\\nwidth: 9vw;\\nmin-height: 4vh;\\nheight: 4vh;\\n/* line-height: 50px; */\\nfont-weight: bold;\\ntext-decoration: none;\\nbackground-image: linear-gradient(#F05A27, #F5931F);\\ntext-align: center;\\nalign-items: center;\\ncolor: #fff;\\ntext-transform: uppercase;\\nletter-spacing: 1px;\\n/* border: 3px solid #2E6268; */\\ntransition: all .35s;\\njustify-content: center;\\nfont-size: 1.5vh;\\nfont-family: 'Dosis', sans-serif;\\nborder-radius: 20px;\\n\\n  &:hover {\\n    width: 12vw;\\n    border: 3px solid #F5931F;\\n    background: transparent;\\n    color: #F05A27;\\n    cursor: pointer;\\n  }\\n\"])));var Card=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\nheight: 2.5vw;\\nwidth: 5vw;\\nmargin-left: 10px;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  align-items: center;\\n  border: 3px solid black;\\n  background-color: #7F55D0;\\n  border-radius: 20px;\\n    font-family: \\\"Sans-Serif\\\"; \\\"Optima\\\";\\n    font-weight: heavier;\\n    font-size: .5em;\\n    color: beige;\\n    transition: box-shadow .3s;\\n  &:hover {\\n    box-shadow: 0px 0px 30px 0px #848484;\\n    // background-image: url(https://i2.wp.com/windowscustomization.com/wp-content/uploads/2019/01/Blue-Connected-Particles.gif?fit=750%2C354&quality=80&strip=all&ssl=1); width: 5vw; height: 2.5vw;\\n    background-position: 50% 50%;\\n    cursor: pointer;\\n    border: 6px solid #7F55D0;\\n    text-shadow: 2px 2px 8px #7F55D0;\\n    color: silver;\\n  }\\n\"])));var Container=styled.div(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\njustify-content: center;\\n\\n  margin-top: 50px;\\n  display: grid;\\n  grid-template-columns: 0fr 0fr 0fr 0fr 0fr;\\n  // grid-row-gap: 2vh;\\n  width: 100%;\\n\"])));var Container5=styled.div(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n  margin-left: 10%;\\n  margin-top: 15vh;\\n  // display: grid;\\n  // grid-template-columns: 1fr 1fr 1fr 1fr;\\n  width: 100%;\\n  font-weight: bold;\\n  font-size: 3em;\\n  font-family: 'Dosis', sans-serif;\\n\\n\"])));var Container4=styled.div(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n  margin-left: 10%;\\n  margin-top: 50px;\\n  display: grid;\\n  grid-template-columns: 1fr 1fr 1fr 1fr;\\n  width: 100%;\\n\"])));var Arrow=styled.div(_templateObject8||(_templateObject8=_taggedTemplateLiteral([\"\\n font-size: 10em;\\n font-family: 'Marker Felt', fantasy;\\n \"])));var Image=styled.img(_templateObject9||(_templateObject9=_taggedTemplateLiteral([\"\\n margin-top: 5px;\\n   width: 10vw;\\n   height: 15vw;\\n \"])));var Card2=styled.div(_templateObject10||(_templateObject10=_taggedTemplateLiteral([\"\\nmargin-top: 10px;\\nmargin-bottom: 10px;\\nmargin-right: 10px;\\nmargin-left: 10px\\n  height: 35vw;\\n  width: 25vw;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center; \\n  align-items: center;\\n  border: 1px solid transparent;\\n\"])));var Card3=styled.div(_templateObject11||(_templateObject11=_taggedTemplateLiteral([\"\\nheight: 2.5vw;\\nwidth: 5vw;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  align-items: center;\\n  // border: 3px solid black;\\n  background-color: #2E6268;\\n  border-radius: 50%;\\n  width: 175px;\\n  height: 175px;\\n  font-family: 'Marker Felt', fantasy;\\n  text-align: center;  font-family: \\\"Sans-Serif\\\"; \\\"Optima\\\";\\n    font-weight: heavier;\\n    font-size: 2em;\\n    color: white;\\n    transition: box-shadow .3s;\\n\\n  &:hover {\\n    box-shadow: 0px 0px 30px 0px #848484;\\n    background-image: url(https://cdn.dribbble.com/users/146773/screenshots/4228811/dribble_cart.gif);\\n    background-position: 50% 50%;\\n    cursor: pointer;\\n    // border: 6px solid #7F55D0;\\n    text-shadow: 2px 2px 8px #7F55D0;\\n    color: silver;\\n    color: transparent;\\n  }\\n\"])));var FormField=styled.div(_templateObject12||(_templateObject12=_taggedTemplateLiteral([\"\\n  &:not(:last-child) {\\n    margin-bottom: 12px;\\n    margin-left: 10%;\\n    width: 40vw;\\n    font-family: 'Dosis', sans-serif;\\n  }\\n\"])));var Label=styled.label(_templateObject13||(_templateObject13=_taggedTemplateLiteral([\"\\n  color: #363636;\\n  display: block;\\n  font-size: 1rem;\\n  font-weight: 700;\\n  margin-bottom: 8px;\\n\"])));var Textarea=styled.textarea(_templateObject14||(_templateObject14=_taggedTemplateLiteral([\"\\n  border-radius: 6px;\\n  border: 1px solid transparent;\\n  border-color: #dbdbdb;\\n  -webkit-appearance: none;\\n  max-width: 100%;\\n  width: 100%;\\n  font-size: 1rem;\\n  line-height: 1.5;\\n  padding: 4px;\\n  resize: none;\\n  font-family: 'Dosis', sans-serif;\\n\\n\"])));var Button=styled.button(_templateObject15||(_templateObject15=_taggedTemplateLiteral([\"\\nmargin-left: 10%;\\n  cursor: pointer;\\n  font-size: 1.3rem;\\n  border: 1px solid transparent;\\n  border-radius: 6px;\\n  padding: 8px 16px;\\n  text-decoration: none;\\n  width: 100px;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  align-self: center;\\n  margin-bottom: 20px;\\n\\n  a {\\n    color: inherit;\\n    text-decoration: none;\\n  }\\n\"])));export default ProductDetails;","map":{"version":3,"sources":["/Users/noamlubofsky/Flatiron/Code/phase5/final-project/unicart/client/src/components/ProductDetails.js"],"names":["React","useState","useEffect","useParams","styled","useHistory","Review","ProductDetails","handleAddCart","user","productDetails","setProductDetails","reviews","setReviews","isLoading","setIsLoading","related","setRelated","random","setRandom","quantity","setQuantity","store","setStore","review","setReview","history","id","fetch","then","res","json","data","createReview","content","method","headers","body","JSON","stringify","product_id","response","handleSubmit","e","preventDefault","backToStore","push","toCart","handleChange","target","value","handleClick","image_url","name","price","inventory","map","Container6","div","Add","AddButton","Card","Container","Container5","Container4","Arrow","Image","img","Card2","Card3","FormField","Label","label","Textarea","textarea","Button","button"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport styled from \"styled-components\";\nimport {useHistory} from \"react-router\";\nimport Review from \"./Review\"\n\n\nfunction ProductDetails({ handleAddCart, user}) {\n    const [productDetails, setProductDetails] = useState([]);\n    const [reviews, setReviews] = useState([]);\n    const [isLoading, setIsLoading] = useState(false)\n    const [related, setRelated] = useState([]);\n    const [random, setRandom] = useState([])\n    const [quantity, setQuantity] = useState(1);\n    const [store, setStore] = useState({});\n    const [review, setReview] = useState(null);\n\n    let history = useHistory();\n\n    const id = useParams().id;\n  // const category = useParams().category;\n\n  // const storeProducts = products.filter(product => \n  //   product.store_id === selectedProduct.store.id)\n\n  //   useEffect(() => {\n  //     const shuffled = storeProducts.sort(() => 0.5 - Math.random());\n  //     let selected = shuffled.slice(0, 3);\n  //     setRandom(selected)\n  //     console.log(random)\n  //   }, [])\n\nuseEffect(() => {\n    // setIsLoading(true)\n    fetch(`/products/${id}`)\n      .then((res) => res.json())\n      .then((data) => {\n        setProductDetails(data);\n        setStore(data.store)\n      });\n\n    fetch(`/reviews/${id}`)\n      .then((res) => res.json())\n      .then((data) => {\n        setReviews(data);\n        // setIsLoading(false)\n      });\n  }, [id]);\n\n    const createReview = (content) => {\n    fetch(\"/reviews\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        product_id: id,\n        content: content,\n      }),\n    })\n      .then((response) => response.json())\n      .then((review) => setReviews([...reviews, review]));\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    createReview(review);\n  };\n\n  function backToStore(){\n    history.push(`/stores/${productDetails.store.id}`)\n  }\n\n  function toCart(){\n    history.push(`cart/${user.id}`)\n  }\n\n  const handleChange = (e) => {\n    setQuantity(e.target.value);\n  };\n\n  const handleClick = (id) => {\n      handleAddCart(id, quantity, store);\n  };\n\n  return(\n      <div>\n        <Container6>\n          {isLoading ? <h2>Loading</h2> :\n      <div>\n        <Container4 onClick={backToStore}>\n<div class=\"wrapper\" >\n  <div class=\"link_wrapper\">\n    <button>Back</button>\n    {/* <div class=\"icon\">\n    <svg class=\"svg-icon\" viewBox=\"0 0 20 20\">\n    <path d=\"M11.739,13.962c-0.087,0.086-0.199,0.131-0.312,0.131c-0.112,0-0.226-0.045-0.312-0.131l-3.738-3.736c-0.173-0.173-0.173-0.454,0-0.626l3.559-3.562c0.173-0.175,0.454-0.173,0.626,0c0.173,0.172,0.173,0.451,0,0.624l-3.248,3.25l3.425,3.426C11.911,13.511,11.911,13.789,11.739,13.962 M18.406,10c0,4.644-3.763,8.406-8.406,8.406S1.594,14.644,1.594,10S5.356,1.594,10,1.594S18.406,5.356,18.406,10 M17.521,10c0-4.148-3.373-7.521-7.521-7.521c-4.148,0-7.521,3.374-7.521,7.521c0,4.148,3.374,7.521,7.521,7.521C14.147,17.521,17.521,14.148,17.521,10\"></path>      \n    </svg>\n    </div> */}\n  </div>\n</div>           \n\n</Container4> \n            <Container>\n            <Image src={productDetails.image_url} alt=\"Product\" />\n\n<Card2>\n{/* <h1>{productDetails.store.name}</h1> */}\n      <h2>{productDetails.name}</h2>\n      <h4>${productDetails.price}</h4>\n        <h4>{productDetails.inventory} Left in Stock</h4>\n        <label for=\"quant\">Quantity</label>\n        <select name=\"quant\" onChange={handleChange}>\n          <option value=\"1\">1</option>\n          <option value=\"2\">2</option>\n          <option value=\"3\">3</option>\n          <option value=\"4\">4</option>\n          <option value=\"5\">5</option>\n          <option value=\"6\">6</option>\n          <option value=\"7\">7</option>\n          <option value=\"8\">8</option>\n          <option value=\"9\">9</option>\n          <option value=\"10\">10</option>\n        </select>\n        <br></br>\n        <Add>\n        <div class=\"wrapper\" >\n  <div class=\"link_wrapper\">\n    <AddButton onClick={() => handleClick(productDetails.id)}>Add to Cart</AddButton>\n    <div class=\"icon\">\n    <svg class=\"svg-icon\" viewBox=\"0 0 20 20\">\n    <path d=\"M9.941,4.515h1.671v1.671c0,0.231,0.187,0.417,0.417,0.417s0.418-0.187,0.418-0.417V4.515h1.672c0.229,0,0.417-0.187,0.417-0.418c0-0.23-0.188-0.417-0.417-0.417h-1.672V2.009c0-0.23-0.188-0.418-0.418-0.418s-0.417,0.188-0.417,0.418V3.68H9.941c-0.231,0-0.418,0.187-0.418,0.417C9.522,4.329,9.71,4.515,9.941,4.515 M17.445,15.479h0.003l1.672-7.52l-0.009-0.002c0.009-0.032,0.021-0.064,0.021-0.099c0-0.231-0.188-0.417-0.418-0.417H5.319L4.727,5.231L4.721,5.232C4.669,5.061,4.516,4.933,4.327,4.933H1.167c-0.23,0-0.418,0.188-0.418,0.417c0,0.231,0.188,0.418,0.418,0.418h2.839l2.609,9.729h0c0.036,0.118,0.122,0.214,0.233,0.263c-0.156,0.254-0.25,0.551-0.25,0.871c0,0.923,0.748,1.671,1.67,1.671c0.923,0,1.672-0.748,1.672-1.671c0-0.307-0.088-0.589-0.231-0.836h4.641c-0.144,0.247-0.231,0.529-0.231,0.836c0,0.923,0.747,1.671,1.671,1.671c0.922,0,1.671-0.748,1.671-1.671c0-0.32-0.095-0.617-0.252-0.871C17.327,15.709,17.414,15.604,17.445,15.479 M15.745,8.275h2.448l-0.371,1.672h-2.262L15.745,8.275z M5.543,8.275h2.77L8.5,9.947H5.992L5.543,8.275z M6.664,12.453l-0.448-1.671h2.375l0.187,1.671H6.664z M6.888,13.289h1.982l0.186,1.671h-1.72L6.888,13.289zM8.269,17.466c-0.461,0-0.835-0.374-0.835-0.835s0.374-0.836,0.835-0.836c0.462,0,0.836,0.375,0.836,0.836S8.731,17.466,8.269,17.466 M11.612,14.96H9.896l-0.186-1.671h1.901V14.96z M11.612,12.453H9.619l-0.186-1.671h2.18V12.453zM11.612,9.947H9.34L9.154,8.275h2.458V9.947z M14.162,14.96h-1.715v-1.671h1.9L14.162,14.96z M14.441,12.453h-1.994v-1.671h2.18L14.441,12.453z M14.72,9.947h-2.272V8.275h2.458L14.72,9.947z M15.79,17.466c-0.462,0-0.836-0.374-0.836-0.835s0.374-0.836,0.836-0.836c0.461,0,0.835,0.375,0.835,0.836S16.251,17.466,15.79,17.466 M16.708,14.96h-1.705l0.186-1.671h1.891L16.708,14.96z M15.281,12.453l0.187-1.671h2.169l-0.372,1.671H15.281z\"></path>    </svg>\n    </div>\n  </div>\n</div>  \n</Add>\n        </Card2>\n        {/* <Card3 onClick={toCart}>Add to Cart</Card3> */}\n        </Container>\n      </div> \n}\n<Container5>Reviews for {productDetails.name}</Container5>\n{reviews.map(review => (\n          <Review\n            key={review.id}\n            review={review}\n          />\n        ))}\n        </Container6>\n\n        <form onSubmit={handleSubmit}>\n          <FormField>\n            <Label htmlFor=\"review\">Write a Review</Label>\n            <Textarea\n              rows=\"3\"\n              id=\"review\"\n              value={review}\n              onChange={(e) => setReview(e.target.value)}\n            />\n          </FormField>\n          <FormField>\n            <Button type=\"submit\">Submit</Button>\n          </FormField>\n        </form>\n      </div>\n  )\n\n}\n\nconst Container6 = styled.div`\n// background-image: url(\"https://cdn.wallpapersafari.com/90/7/KGe7I0.jpg\")\n`\n\nconst Add= styled.div`\n`\n\n\nconst AddButton = styled.div`\ndisplay: fixed;\nwidth: 9vw;\nmin-height: 4vh;\nheight: 4vh;\n/* line-height: 50px; */\nfont-weight: bold;\ntext-decoration: none;\nbackground-image: linear-gradient(#F05A27, #F5931F);\ntext-align: center;\nalign-items: center;\ncolor: #fff;\ntext-transform: uppercase;\nletter-spacing: 1px;\n/* border: 3px solid #2E6268; */\ntransition: all .35s;\njustify-content: center;\nfont-size: 1.5vh;\nfont-family: 'Dosis', sans-serif;\nborder-radius: 20px;\n\n  &:hover {\n    width: 12vw;\n    border: 3px solid #F5931F;\n    background: transparent;\n    color: #F05A27;\n    cursor: pointer;\n  }\n`;\n\nconst Card = styled.div`\nheight: 2.5vw;\nwidth: 5vw;\nmargin-left: 10px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  border: 3px solid black;\n  background-color: #7F55D0;\n  border-radius: 20px;\n    font-family: \"Sans-Serif\"; \"Optima\";\n    font-weight: heavier;\n    font-size: .5em;\n    color: beige;\n    transition: box-shadow .3s;\n  &:hover {\n    box-shadow: 0px 0px 30px 0px #848484;\n    // background-image: url(https://i2.wp.com/windowscustomization.com/wp-content/uploads/2019/01/Blue-Connected-Particles.gif?fit=750%2C354&quality=80&strip=all&ssl=1); width: 5vw; height: 2.5vw;\n    background-position: 50% 50%;\n    cursor: pointer;\n    border: 6px solid #7F55D0;\n    text-shadow: 2px 2px 8px #7F55D0;\n    color: silver;\n  }\n`;\n\nconst Container = styled.div`\njustify-content: center;\n\n  margin-top: 50px;\n  display: grid;\n  grid-template-columns: 0fr 0fr 0fr 0fr 0fr;\n  // grid-row-gap: 2vh;\n  width: 100%;\n`;\nconst Container5 = styled.div`\n  margin-left: 10%;\n  margin-top: 15vh;\n  // display: grid;\n  // grid-template-columns: 1fr 1fr 1fr 1fr;\n  width: 100%;\n  font-weight: bold;\n  font-size: 3em;\n  font-family: 'Dosis', sans-serif;\n\n`;\n\nconst Container4 = styled.div`\n  margin-left: 10%;\n  margin-top: 50px;\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr 1fr;\n  width: 100%;\n`;\nconst Arrow = styled.div`\n font-size: 10em;\n font-family: 'Marker Felt', fantasy;\n `;\n\n const Image = styled.img`\n margin-top: 5px;\n   width: 10vw;\n   height: 15vw;\n `;\n\nconst Card2 = styled.div`\nmargin-top: 10px;\nmargin-bottom: 10px;\nmargin-right: 10px;\nmargin-left: 10px\n  height: 35vw;\n  width: 25vw;\n  display: flex;\n  flex-direction: column;\n  justify-content: center; \n  align-items: center;\n  border: 1px solid transparent;\n`;\n\nconst Card3 = styled.div`\nheight: 2.5vw;\nwidth: 5vw;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  // border: 3px solid black;\n  background-color: #2E6268;\n  border-radius: 50%;\n  width: 175px;\n  height: 175px;\n  font-family: 'Marker Felt', fantasy;\n  text-align: center;  font-family: \"Sans-Serif\"; \"Optima\";\n    font-weight: heavier;\n    font-size: 2em;\n    color: white;\n    transition: box-shadow .3s;\n\n  &:hover {\n    box-shadow: 0px 0px 30px 0px #848484;\n    background-image: url(https://cdn.dribbble.com/users/146773/screenshots/4228811/dribble_cart.gif);\n    background-position: 50% 50%;\n    cursor: pointer;\n    // border: 6px solid #7F55D0;\n    text-shadow: 2px 2px 8px #7F55D0;\n    color: silver;\n    color: transparent;\n  }\n`;\n\nconst FormField = styled.div`\n  &:not(:last-child) {\n    margin-bottom: 12px;\n    margin-left: 10%;\n    width: 40vw;\n    font-family: 'Dosis', sans-serif;\n  }\n`;\n\nconst Label = styled.label`\n  color: #363636;\n  display: block;\n  font-size: 1rem;\n  font-weight: 700;\n  margin-bottom: 8px;\n`;\n\nconst Textarea = styled.textarea`\n  border-radius: 6px;\n  border: 1px solid transparent;\n  border-color: #dbdbdb;\n  -webkit-appearance: none;\n  max-width: 100%;\n  width: 100%;\n  font-size: 1rem;\n  line-height: 1.5;\n  padding: 4px;\n  resize: none;\n  font-family: 'Dosis', sans-serif;\n\n`;\nconst Button = styled.button`\nmargin-left: 10%;\n  cursor: pointer;\n  font-size: 1.3rem;\n  border: 1px solid transparent;\n  border-radius: 6px;\n  padding: 8px 16px;\n  text-decoration: none;\n  width: 100px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  align-self: center;\n  margin-bottom: 20px;\n\n  a {\n    color: inherit;\n    text-decoration: none;\n  }\n`;\n\nexport default ProductDetails"]},"metadata":{},"sourceType":"module"}