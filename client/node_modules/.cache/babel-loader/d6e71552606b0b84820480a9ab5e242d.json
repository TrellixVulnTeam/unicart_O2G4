{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/noamlubofsky/Flatiron/Code/phase5/final-project/unicart/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";import _slicedToArray from\"/Users/noamlubofsky/Flatiron/Code/phase5/final-project/unicart/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";var _templateObject,_templateObject2,_templateObject3;import React,{useEffect,useState}from\"react\";import ShippingCard from\"./ShippingCard\";import styled from\"styled-components\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function CheckoutShipping(_ref){var toSummary=_ref.toSummary,toPayment=_ref.toPayment,user=_ref.user,setSelectedShipping=_ref.setSelectedShipping;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),shipping=_useState2[0],setShipping=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),shipTo=_useState4[0],setShipTo=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),address=_useState6[0],setAddress=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),address2=_useState8[0],setAddress2=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),city=_useState10[0],setCity=_useState10[1];var _useState11=useState(null),_useState12=_slicedToArray(_useState11,2),state=_useState12[0],setState=_useState12[1];var _useState13=useState(null),_useState14=_slicedToArray(_useState13,2),zip=_useState14[0],setZip=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),edit=_useState16[0],setEdit=_useState16[1];useEffect(function(){fetch(\"/shipping_infos\").then(function(res){return res.json();}).then(function(data){setShipping(data);});},[]);var createShippingInfo=function createShippingInfo(shipTo,address,address2,city,state,zip){fetch(\"/shipping_infos\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({ship_to:shipTo,address:address,address_2:address2,city:city,state:state,zip:zip,user_id:user.id})}).then(function(response){return response.json();}).then(editInfo);};var handleSubmit=function handleSubmit(e){e.preventDefault();createShippingInfo(shipTo,address,address2,city,state,zip);fetch(\"/shipping_infos\").then(function(res){return res.json();}).then(function(data){setShipping(data);});};var editInfo=function editInfo(){setEdit(!edit);fetch(\"/shipping_infos\").then(function(res){return res.json();}).then(function(data){setShipping(data);});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(BackButton,{onClick:toSummary,children:\"Back to Order Summary\"}),/*#__PURE__*/_jsx(\"h1\",{children:\"Select Your Shipping Address\"}),shipping.map(function(address){return/*#__PURE__*/_jsx(ShippingCard,{address:address,toPayment:toPayment,setSelectedShipping:setSelectedShipping},address.id);}),!edit?/*#__PURE__*/_jsx(Button,{onClick:editInfo,children:\"Add New Shipping Address\"}):null,!edit?null:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(EditContainer,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"New Shipping Info:\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Ship To: \",/*#__PURE__*/_jsx(\"input\",{required:true,type:\"text\",value:shipTo,placeholder:shipping?shipping.ship_to:null,onChange:function onChange(e){return setShipTo(e.target.value);}}),\" \"]}),/*#__PURE__*/_jsxs(\"h2\",{children:[\"Address: \",/*#__PURE__*/_jsx(\"input\",{required:true,type:\"text\",value:address,placeholder:shipping?shipping.address:null,onChange:function onChange(e){return setAddress(e.target.value);}}),\" \"]}),/*#__PURE__*/_jsxs(\"h2\",{children:[\"Address Line 2: \",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:address2,placeholder:shipping?shipping.address_2:null,onChange:function onChange(e){return setAddress2(e.target.value);}}),\" \"]}),/*#__PURE__*/_jsxs(\"h2\",{children:[\"City: \",/*#__PURE__*/_jsx(\"input\",{required:true,type:\"text\",value:city,placeholder:shipping?shipping.city:null,onChange:function onChange(e){return setCity(e.target.value);}}),\" \"]}),/*#__PURE__*/_jsxs(\"h2\",{children:[\"State: \",/*#__PURE__*/_jsx(\"input\",{required:true,type:\"text\",value:state,placeholder:shipping?shipping.state:null,onChange:function onChange(e){return setState(e.target.value);}}),\" \"]}),/*#__PURE__*/_jsxs(\"h2\",{children:[\"Zip Code: \",/*#__PURE__*/_jsx(\"input\",{required:true,type:\"text\",value:zip,placeholder:shipping?shipping.zip:null,onChange:function onChange(e){return setZip(e.target.value);}}),\" \"]}),/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Add Address\"})})]}),/*#__PURE__*/_jsx(\"br\",{})]})})]});}var EditContainer=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\nmargin-left: auto;\\nmargin-right: auto;\\nwidth: 30em;\\n\"])));var BackButton=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\ndisplay: fixed;\\nmargin-top: 1%;\\nmargin-left: 1%;\\nwidth: 12vw;\\nheight: 6vh;\\n/* line-height: 50px; */\\nfont-weight: bold;\\ntext-decoration: none;\\nbackground-image: linear-gradient(#F05A27, #F5931F);\\ntext-align: center;\\nalign-items: center;\\ncolor: #fff;\\ntext-transform: uppercase;\\nletter-spacing: 1px;\\n/* border: 3px solid #2E6268; */\\ntransition: all .35s;\\njustify-content: center;\\nfont-size: 1.5vh;\\nfont-family: 'Dosis', sans-serif;\\nborder-radius: 20px;\\n\\n  &:hover {\\n    width: 13vw;\\n    border: 3px solid #F5931F;\\n    background: transparent;\\n    color: #F05A27;\\n    cursor: pointer;\\n  }\\n\"])));var Button=styled.button(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n\\n  height: 5vw;\\n  width: 25vw;\\njustify-content: center;\\nalign-items: center;\\nmargin-left: 40%;\\nmargin-bottom: 10vh;\\n&:hover {\\n    width: 25vw;\\n    // height: 3vw;\\n    border: 3px solid #F5931F;\\n    background: transparent;\\n    color: #F05A27;\\n    cursor: pointer;\\n\"])));export default CheckoutShipping;","map":{"version":3,"sources":["/Users/noamlubofsky/Flatiron/Code/phase5/final-project/unicart/client/src/components/CheckoutShipping.js"],"names":["React","useEffect","useState","ShippingCard","styled","CheckoutShipping","toSummary","toPayment","user","setSelectedShipping","shipping","setShipping","shipTo","setShipTo","address","setAddress","address2","setAddress2","city","setCity","state","setState","zip","setZip","edit","setEdit","fetch","then","res","json","data","createShippingInfo","method","headers","body","JSON","stringify","ship_to","address_2","user_id","id","response","editInfo","handleSubmit","e","preventDefault","map","target","value","EditContainer","div","BackButton","Button","button"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport ShippingCard from \"./ShippingCard\"\nimport styled from \"styled-components\";\n\nfunction CheckoutShipping({toSummary, toPayment, user, setSelectedShipping}) {\n    const [shipping, setShipping] = useState([])\n    const [shipTo, setShipTo] = useState(null)\n    const [address, setAddress] = useState(null)\n    const [address2, setAddress2] = useState(null)\n    const [city, setCity] = useState(null)\n    const [state, setState] = useState(null)\n    const [zip, setZip] = useState(null)\n    const [edit, setEdit] = useState(false)\n\n    useEffect(() => {\n        fetch(`/shipping_infos`)\n          .then((res) => res.json())\n          .then((data) => {\n            setShipping(data);\n          });\n      }, []);\n\n      const createShippingInfo = (shipTo, address, address2, city, state, zip) => {\n        fetch(\"/shipping_infos\", {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify({\n            ship_to: shipTo,\n            address: address,\n            address_2: address2,\n            city: city,\n            state: state,\n            zip: zip,\n            user_id: user.id,\n          }),\n        })\n          .then((response) => response.json())\n        .then(editInfo)\n      };\n    \n      const handleSubmit = (e) => {\n        e.preventDefault();\n        createShippingInfo(shipTo, address, address2, city, state, zip);\n        fetch(`/shipping_infos`)\n        .then((res) => res.json())\n        .then((data) => {\n          setShipping(data);\n        });\n      };\n\n      const editInfo = () => {\n          setEdit(!edit)\n             fetch(`/shipping_infos`)\n        .then((res) => res.json())\n        .then((data) => {\n          setShipping(data);\n        });\n      }\n\n    return(\n        <div>\n        <BackButton onClick={toSummary}>Back to Order Summary</BackButton>\n        \n        <h1>Select Your Shipping Address</h1>\n        {shipping.map(address => (\n          <ShippingCard\n            key={address.id}\n            address={address}\n            toPayment={toPayment}\n            setSelectedShipping={setSelectedShipping}\n          />\n        ))}\n        {!edit ? <Button onClick={editInfo}>Add New Shipping Address</Button> : null }\n\n\n        {!edit ? null :  \n        <div>\n            <EditContainer>\n    <h1>New Shipping Info:</h1>\n    <form onSubmit={handleSubmit}>\n    <h2>Ship To: <input required type=\"text\" value={shipTo} placeholder={shipping ? shipping.ship_to : null} onChange={(e) => setShipTo(e.target.value)}></input> </h2>\n    <h2>Address: <input required type=\"text\" value={address} placeholder={shipping ? shipping.address : null} onChange={(e) => setAddress(e.target.value)}></input> </h2>\n    <h2>Address Line 2: <input type=\"text\" value={address2} placeholder={shipping ? shipping.address_2 : null} onChange={(e) => setAddress2(e.target.value)}></input> </h2>\n    <h2>City: <input required type=\"text\" value={city} placeholder={shipping ? shipping.city : null} onChange={(e) => setCity(e.target.value)}></input> </h2>\n    <h2>State: <input required type=\"text\" value={state} placeholder={shipping ? shipping.state : null} onChange={(e) => setState(e.target.value)}></input> </h2>\n    <h2>Zip Code: <input required type=\"text\" value={zip} placeholder={shipping ? shipping.zip : null} onChange={(e) => setZip(e.target.value)}></input> </h2>\n    <span>\n    <button type=\"submit\">Add Address</button>\n    {/* <button onClick={editInfo}>Cancel Editing</button> */}\n    </span>\n    </form>\n    <br></br>\n    </EditContainer>\n    </div> }\n        </div>\n    )\n}\n\n\n\nconst EditContainer = styled.div`\nmargin-left: auto;\nmargin-right: auto;\nwidth: 30em;\n`;\n\nconst BackButton = styled.div`\ndisplay: fixed;\nmargin-top: 1%;\nmargin-left: 1%;\nwidth: 12vw;\nheight: 6vh;\n/* line-height: 50px; */\nfont-weight: bold;\ntext-decoration: none;\nbackground-image: linear-gradient(#F05A27, #F5931F);\ntext-align: center;\nalign-items: center;\ncolor: #fff;\ntext-transform: uppercase;\nletter-spacing: 1px;\n/* border: 3px solid #2E6268; */\ntransition: all .35s;\njustify-content: center;\nfont-size: 1.5vh;\nfont-family: 'Dosis', sans-serif;\nborder-radius: 20px;\n\n  &:hover {\n    width: 13vw;\n    border: 3px solid #F5931F;\n    background: transparent;\n    color: #F05A27;\n    cursor: pointer;\n  }\n`;\n\nconst Button = styled.button`\n\n  height: 5vw;\n  width: 25vw;\njustify-content: center;\nalign-items: center;\nmargin-left: 40%;\nmargin-bottom: 10vh;\n&:hover {\n    width: 25vw;\n    // height: 3vw;\n    border: 3px solid #F5931F;\n    background: transparent;\n    color: #F05A27;\n    cursor: pointer;\n`;\n\nexport default CheckoutShipping"]},"metadata":{},"sourceType":"module"}