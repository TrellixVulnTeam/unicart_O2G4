{"ast":null,"code":"var _jsxFileName = \"/Users/noamlubofsky/Flatiron/Code/phase5/final-project/unicart/client/src/components/CheckoutPayment.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport ShippingCard from \"./ShippingCard\";\nimport PaymentCard from \"./PaymentCard\";\nimport styled from \"styled-components\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction CheckoutPayment({\n  toShipping,\n  user,\n  setSelectedPayment,\n  clothes,\n  cartClothes,\n  electronics,\n  cartElectronics,\n  tools,\n  cartTools,\n  health,\n  cartHealth,\n  music,\n  cartMusic,\n  all,\n  cartAll,\n  toReceipt\n}) {\n  _s();\n\n  const [payment, setPayment] = useState([]);\n  const [type, setType] = useState(null);\n  const [name, setName] = useState(null);\n  const [number, setNumber] = useState(null);\n  const [expiration, setExpiration] = useState(null);\n  const [cvv, setCvv] = useState(null);\n  const [edit, setEdit] = useState(false);\n  const [confirm, setConfirm] = useState(false);\n  useEffect(() => {\n    fetch(`/payment_infos`).then(res => res.json()).then(data => {\n      setPayment(data);\n    });\n  }, []);\n\n  const createPaymentInfo = (type, name, number, expiration, cvv) => {\n    fetch(\"/payment_infos\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        card_type: type,\n        name_on_card: name,\n        card_number: number,\n        expiration: expiration,\n        cvv: cvv,\n        user_id: user.id\n      })\n    }).then(response => response.json()) //   .then((info) => setInfo(info))\n    //   .then(console.log(info))\n    .then(editInfo);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    createPaymentInfo(type, name, number, expiration, cvv);\n    fetch(`/payment_infos`).then(res => res.json()).then(data => {\n      setPayment(data);\n    });\n  };\n\n  const editInfo = () => {\n    setEdit(!edit);\n    fetch(`/payment_infos`).then(res => res.json()).then(data => {\n      setPayment(data);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: toShipping,\n      children: \"Back to Shipping\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Select Your Payment Method:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }, this), confirm ? /*#__PURE__*/_jsxDEV(ConfirmButton, {\n      children: [/*#__PURE__*/_jsxDEV(Confirm, {\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Confirm Oder to:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 18\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), cartClothes.length > 0 ? /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: clothes.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 35\n      }, this) : null, cartElectronics.length > 0 ? /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: electronics.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 39\n      }, this) : null, cartTools.length > 0 ? /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: tools.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 33\n      }, this) : null, cartHealth.length > 0 ? /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: health.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 34\n      }, this) : null, cartMusic.length > 0 ? /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: music.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 33\n      }, this) : null, cartAll.length > 0 ? /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: all.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 31\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 20\n    }, this) : null, payment.map(payment => /*#__PURE__*/_jsxDEV(PaymentCard, {\n      payment: payment,\n      setSelectedPayment: setSelectedPayment,\n      setConfirm: setConfirm\n    }, payment.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 11\n    }, this)), !edit ? /*#__PURE__*/_jsxDEV(Button, {\n      onClick: editInfo,\n      children: \"Use a Different Payment Method\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 18\n    }, this) : null, !edit ? null : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(EditContainer, {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Payment Info:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: [\"Card Type: \", /*#__PURE__*/_jsxDEV(\"input\", {\n              required: true,\n              type: \"text\",\n              value: type,\n              placeholder: payment ? payment.card_typepayment : null,\n              onChange: e => setType(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 20\n            }, this), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: [\"Name on Card: \", /*#__PURE__*/_jsxDEV(\"input\", {\n              required: true,\n              type: \"text\",\n              value: name,\n              placeholder: payment ? payment.name_on_card : null,\n              onChange: e => setName(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 23\n            }, this), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: [\"Card Number: \", /*#__PURE__*/_jsxDEV(\"input\", {\n              required: true,\n              type: \"text\",\n              value: number,\n              placeholder: payment ? payment.card_number : null,\n              onChange: e => setNumber(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 22\n            }, this), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: [\"Expiration: \", /*#__PURE__*/_jsxDEV(\"input\", {\n              required: true,\n              type: \"text\",\n              value: expiration,\n              placeholder: payment ? payment.expiration : null,\n              onChange: e => setExpiration(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 21\n            }, this), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: [\"CVV: \", /*#__PURE__*/_jsxDEV(\"input\", {\n              required: true,\n              type: \"text\",\n              value: cvv,\n              placeholder: payment ? payment.cvv : null,\n              onChange: e => setCvv(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 14\n            }, this), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              children: \"Add Payment Method\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 5\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 5\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 15\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 9\n  }, this);\n}\n\n_s(CheckoutPayment, \"+Xfr9PSc68M51s35Vhbp1iTCPaw=\");\n\n_c = CheckoutPayment;\nconst Button = styled.button`\n\n  height: 5vw;\n  width: 25vw;\njustify-content: center;\nalign-items: center;\nmargin-left: 40%;\nmargin-bottom: 10vh;\n&:hover {\n    width: 25vw;\n    // height: 3vw;\n    border: 3px solid #F5931F;\n    background: transparent;\n    color: #F05A27;\n    cursor: pointer;\n`;\n_c2 = Button;\nconst ConfirmButton = styled.button`\n\nwidth: 25vw;\nheight: 7vh;\njustify-content: center;\nalign-items: center;\nmargin-left: 40%;\ncolor: transparent;\n// margin-bottom: 10vh;\n&:hover {\n  width: 25vw;\n    height: 40vh;\n    border: 3px solid #F5931F;\n    background: transparent;\n    color: #F05A27;\n    cursor: pointer;\n`;\n_c3 = ConfirmButton;\nconst Confirm = styled.div`\ncolor: white;\n&:hover {\n  color: #F05A27;}\n`;\n_c4 = Confirm;\nconst EditContainer = styled.div`\nmargin-left: auto;\nmargin-right: auto;\nwidth: 30em;\n`;\n_c5 = EditContainer;\nexport default CheckoutPayment;\n\nvar _c, _c2, _c3, _c4, _c5;\n\n$RefreshReg$(_c, \"CheckoutPayment\");\n$RefreshReg$(_c2, \"Button\");\n$RefreshReg$(_c3, \"ConfirmButton\");\n$RefreshReg$(_c4, \"Confirm\");\n$RefreshReg$(_c5, \"EditContainer\");","map":{"version":3,"sources":["/Users/noamlubofsky/Flatiron/Code/phase5/final-project/unicart/client/src/components/CheckoutPayment.js"],"names":["React","useEffect","useState","ShippingCard","PaymentCard","styled","CheckoutPayment","toShipping","user","setSelectedPayment","clothes","cartClothes","electronics","cartElectronics","tools","cartTools","health","cartHealth","music","cartMusic","all","cartAll","toReceipt","payment","setPayment","type","setType","name","setName","number","setNumber","expiration","setExpiration","cvv","setCvv","edit","setEdit","confirm","setConfirm","fetch","then","res","json","data","createPaymentInfo","method","headers","body","JSON","stringify","card_type","name_on_card","card_number","user_id","id","response","editInfo","handleSubmit","e","preventDefault","length","map","card_typepayment","target","value","Button","button","ConfirmButton","Confirm","div","EditContainer"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport ShippingCard from \"./ShippingCard\"\nimport PaymentCard from \"./PaymentCard\"\nimport styled from \"styled-components\";\n\nfunction CheckoutPayment({toShipping, user, setSelectedPayment, clothes, cartClothes, electronics, cartElectronics, tools, cartTools, health, cartHealth, music, cartMusic, all, cartAll, toReceipt}) {\n    const [payment, setPayment] = useState([])\n    const [type, setType] = useState(null)\n    const [name, setName] = useState(null)\n    const [number, setNumber] = useState(null)\n    const [expiration, setExpiration] = useState(null)\n    const [cvv, setCvv] = useState(null)\n    const [edit, setEdit] = useState(false)\n    const [confirm, setConfirm] = useState(false)\n\n    useEffect(() => {\n        fetch(`/payment_infos`)\n          .then((res) => res.json())\n          .then((data) => {\n            setPayment(data);\n          });\n      }, []);\n\n      const createPaymentInfo = (type, name, number, expiration, cvv) => {\n        fetch(\"/payment_infos\", {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify({\n            card_type: type,\n            name_on_card: name,\n            card_number: number,\n            expiration: expiration,\n            cvv: cvv,\n            user_id: user.id,\n          }),\n        })\n          .then((response) => response.json())\n        //   .then((info) => setInfo(info))\n        //   .then(console.log(info))\n        .then(editInfo)\n      };\n    \n      const handleSubmit = (e) => {\n        e.preventDefault();\n        createPaymentInfo(type, name, number, expiration, cvv);\n        fetch(`/payment_infos`)\n        .then((res) => res.json())\n        .then((data) => {\n          setPayment(data);\n        });\n      };\n\n      const editInfo = () => {\n          setEdit(!edit)\n             fetch(`/payment_infos`)\n        .then((res) => res.json())\n        .then((data) => {\n          setPayment(data);\n        });\n      }\n\n    return(\n        <div>\n        <button onClick={toShipping}>Back to Shipping</button>\n        <h1>Select Your Payment Method:</h1>\n        {confirm ? <ConfirmButton>\n        <Confirm><h2>Confirm Oder to:</h2></Confirm>\n        {cartClothes.length > 0 ? <h2>{clothes.name}</h2> : null}\n        {cartElectronics.length > 0 ? <h2>{electronics.name}</h2> : null}\n        {cartTools.length > 0 ? <h2>{tools.name}</h2> : null}\n        {cartHealth.length > 0 ? <h2>{health.name}</h2> : null}\n        {cartMusic.length > 0 ? <h2>{music.name}</h2> : null}\n        {cartAll.length > 0 ? <h2>{all.name}</h2> : null}\n        </ConfirmButton> \n        : null }\n\n        {payment.map(payment => (\n          <PaymentCard\n            key={payment.id}\n            payment={payment}\n            setSelectedPayment={setSelectedPayment}\n            setConfirm={setConfirm}\n          />\n        ))}\n        {!edit ? <Button onClick={editInfo}>Use a Different Payment Method</Button> : null }\n        {!edit ? null :  \n            <div>\n              <EditContainer>\n    <h1>Payment Info:</h1>\n    <form onSubmit={handleSubmit}>\n    <h2>Card Type: <input required type=\"text\" value={type} placeholder={payment ? payment.card_typepayment : null} onChange={(e) => setType(e.target.value)}></input> </h2>\n    <h2>Name on Card: <input required type=\"text\" value={name} placeholder={payment ? payment.name_on_card : null} onChange={(e) => setName(e.target.value)}></input> </h2>\n    <h2>Card Number: <input required type=\"text\" value={number} placeholder={payment ? payment.card_number : null} onChange={(e) => setNumber(e.target.value)}></input> </h2>\n    <h2>Expiration: <input required type=\"text\" value={expiration} placeholder={payment ? payment.expiration : null} onChange={(e) => setExpiration(e.target.value)}></input> </h2>\n    <h2>CVV: <input required type=\"text\" value={cvv} placeholder={payment ? payment.cvv : null} onChange={(e) => setCvv(e.target.value)}></input> </h2>\n    <span> \n    <button type=\"submit\">Add Payment Method</button>\n    </span>\n    </form>\n    <br></br>\n    </EditContainer>\n    </div> }\n        </div>\n    )\n}\n\nconst Button = styled.button`\n\n  height: 5vw;\n  width: 25vw;\njustify-content: center;\nalign-items: center;\nmargin-left: 40%;\nmargin-bottom: 10vh;\n&:hover {\n    width: 25vw;\n    // height: 3vw;\n    border: 3px solid #F5931F;\n    background: transparent;\n    color: #F05A27;\n    cursor: pointer;\n`;\n\nconst ConfirmButton = styled.button`\n\nwidth: 25vw;\nheight: 7vh;\njustify-content: center;\nalign-items: center;\nmargin-left: 40%;\ncolor: transparent;\n// margin-bottom: 10vh;\n&:hover {\n  width: 25vw;\n    height: 40vh;\n    border: 3px solid #F5931F;\n    background: transparent;\n    color: #F05A27;\n    cursor: pointer;\n`;\n\nconst Confirm = styled.div`\ncolor: white;\n&:hover {\n  color: #F05A27;}\n`;\n\nconst EditContainer = styled.div`\nmargin-left: auto;\nmargin-right: auto;\nwidth: 30em;\n`;\n\nexport default CheckoutPayment"]},"metadata":{},"sourceType":"module"}