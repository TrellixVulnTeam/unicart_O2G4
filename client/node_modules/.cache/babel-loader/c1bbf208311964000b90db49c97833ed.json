{"ast":null,"code":"import _slicedToArray from\"/Users/noamlubofsky/Flatiron/Code/phase5/final-project/unicart/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{useParams}from\"react-router-dom\";import styled from\"styled-components\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ShippingInfo(_ref){var user=_ref.user;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),shipping=_useState2[0],setShipping=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),shipTo=_useState4[0],setShipTo=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),address=_useState6[0],setAddress=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),address2=_useState8[0],setAddress2=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),city=_useState10[0],setCity=_useState10[1];var _useState11=useState(null),_useState12=_slicedToArray(_useState11,2),state=_useState12[0],setState=_useState12[1];var _useState13=useState(null),_useState14=_slicedToArray(_useState13,2),zip=_useState14[0],setZip=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),edit=_useState16[0],setEdit=_useState16[1];var id=useParams().id;useEffect(function(){fetch(\"/shipping_infos/\".concat(id)).then(function(res){return res.json();}).then(function(data){setShipping(data);});},[id]);var createShippingInfo=function createShippingInfo(shipTo,address,address2,city,state,zip){fetch(\"/shipping_infos\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({ship_to:shipTo,address:address,address_2:address2,city:city,state:state,zip:zip,user_id:user.id})}).then(function(response){return response.json();}).then(editInfo);};var handleSubmit=function handleSubmit(e){e.preventDefault();createShippingInfo(shipTo,address,address2,city,state,zip);fetch(\"/shipping_infos/\".concat(id)).then(function(res){return res.json();}).then(function(data){setShipping(data);});};var editInfo=function editInfo(){setEdit(!edit);fetch(\"/shipping_infos/\".concat(id)).then(function(res){return res.json();}).then(function(data){setShipping(data);});};return/*#__PURE__*/_jsx(\"div\",{children:edit?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Shipping Info:\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Ship To: \",/*#__PURE__*/_jsx(\"input\",{required:true,type:\"text\",value:shipTo,placeholder:shipping?shipping.ship_to:null,onChange:function onChange(e){return setShipTo(e.target.value);}}),\" \"]}),/*#__PURE__*/_jsxs(\"h2\",{children:[\"Address: \",/*#__PURE__*/_jsx(\"input\",{required:true,type:\"text\",value:address,placeholder:shipping?shipping.address:null,onChange:function onChange(e){return setAddress(e.target.value);}}),\" \"]}),/*#__PURE__*/_jsxs(\"h2\",{children:[\"Address Line 2: \",/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:address2,placeholder:shipping?shipping.address_2:null,onChange:function onChange(e){return setAddress2(e.target.value);}}),\" \"]}),/*#__PURE__*/_jsxs(\"h2\",{children:[\"City: \",/*#__PURE__*/_jsx(\"input\",{required:true,type:\"text\",value:city,placeholder:shipping?shipping.city:null,onChange:function onChange(e){return setCity(e.target.value);}}),\" \"]}),/*#__PURE__*/_jsxs(\"h2\",{children:[\"State: \",/*#__PURE__*/_jsx(\"input\",{required:true,type:\"text\",value:state,placeholder:shipping?shipping.state:null,onChange:function onChange(e){return setState(e.target.value);}}),\" \"]}),/*#__PURE__*/_jsxs(\"h2\",{children:[\"Zip Code: \",/*#__PURE__*/_jsx(\"input\",{required:true,type:\"text\",value:zip,placeholder:shipping?shipping.zip:null,onChange:function onChange(e){return setZip(e.target.value);}}),\" \"]}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Save Info\"}),/*#__PURE__*/_jsx(\"button\",{onClick:editInfo,children:\"Cancel Editing\"})]})]}),/*#__PURE__*/_jsx(\"br\",{})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Shipping Info:\"}),/*#__PURE__*/_jsxs(\"h2\",{children:[\"Ship To: \",shipping?shipping.ship_to:null,\" \"]}),/*#__PURE__*/_jsxs(\"h2\",{children:[\"Address: \",shipping?shipping.address:null,\" \"]}),/*#__PURE__*/_jsxs(\"h2\",{children:[\"Address Line 2: \",shipping?shipping.address_2:null,\" \"]}),/*#__PURE__*/_jsxs(\"h2\",{children:[\"City: \",shipping?shipping.city:null,\" \"]}),/*#__PURE__*/_jsxs(\"h2\",{children:[\"State: \",shipping?shipping.state:null,\" \"]}),/*#__PURE__*/_jsxs(\"h2\",{children:[\"Zip Code: \",shipping?shipping.zip:null,\" \"]}),/*#__PURE__*/_jsx(\"button\",{onClick:editInfo,children:\"Change Default Shipping\"}),/*#__PURE__*/_jsx(\"br\",{})]})});}export default ShippingInfo;","map":{"version":3,"sources":["/Users/noamlubofsky/Flatiron/Code/phase5/final-project/unicart/client/src/components/ShippingInfo.js"],"names":["React","useEffect","useState","useParams","styled","ShippingInfo","user","shipping","setShipping","shipTo","setShipTo","address","setAddress","address2","setAddress2","city","setCity","state","setState","zip","setZip","edit","setEdit","id","fetch","then","res","json","data","createShippingInfo","method","headers","body","JSON","stringify","ship_to","address_2","user_id","response","editInfo","handleSubmit","e","preventDefault","target","value"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport styled from \"styled-components\";\n\nfunction ShippingInfo({user}){\n    const [shipping, setShipping] = useState([])\n    const [shipTo, setShipTo] = useState(null)\n    const [address, setAddress] = useState(null)\n    const [address2, setAddress2] = useState(null)\n    const [city, setCity] = useState(null)\n    const [state, setState] = useState(null)\n    const [zip, setZip] = useState(null)\n    const [edit, setEdit] = useState(false)\n    const id = useParams().id;\n\n    useEffect(() => {\n        fetch(`/shipping_infos/${id}`)\n          .then((res) => res.json())\n          .then((data) => {\n            setShipping(data);\n          });\n      }, [id]);\n\n    const createShippingInfo = (shipTo, address, address2, city, state, zip) => {\n        fetch(\"/shipping_infos\", {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify({\n            ship_to: shipTo,\n            address: address,\n            address_2: address2,\n            city: city,\n            state: state,\n            zip: zip,\n            user_id: user.id,\n          }),\n        })\n          .then((response) => response.json())\n        .then(editInfo)\n      };\n    \n      const handleSubmit = (e) => {\n        e.preventDefault();\n        createShippingInfo(shipTo, address, address2, city, state, zip);\n        fetch(`/shipping_infos/${id}`)\n        .then((res) => res.json())\n        .then((data) => {\n          setShipping(data);\n        });\n      };\n\n      const editInfo = () => {\n          setEdit(!edit)\n             fetch(`/shipping_infos/${id}`)\n        .then((res) => res.json())\n        .then((data) => {\n          setShipping(data);\n        });\n      }\n\n    return(\n        <div>\n            {edit ? \n        <div>\n    <h1>Shipping Info:</h1>\n    <form onSubmit={handleSubmit}>\n    <h2>Ship To: <input required type=\"text\" value={shipTo} placeholder={shipping ? shipping.ship_to : null} onChange={(e) => setShipTo(e.target.value)}></input> </h2>\n    <h2>Address: <input required type=\"text\" value={address} placeholder={shipping ? shipping.address : null} onChange={(e) => setAddress(e.target.value)}></input> </h2>\n    <h2>Address Line 2: <input type=\"text\" value={address2} placeholder={shipping ? shipping.address_2 : null} onChange={(e) => setAddress2(e.target.value)}></input> </h2>\n    <h2>City: <input required type=\"text\" value={city} placeholder={shipping ? shipping.city : null} onChange={(e) => setCity(e.target.value)}></input> </h2>\n    <h2>State: <input required type=\"text\" value={state} placeholder={shipping ? shipping.state : null} onChange={(e) => setState(e.target.value)}></input> </h2>\n    <h2>Zip Code: <input required type=\"text\" value={zip} placeholder={shipping ? shipping.zip : null} onChange={(e) => setZip(e.target.value)}></input> </h2>\n    <span>\n    <button type=\"submit\">Save Info</button>\n    <button onClick={editInfo}>Cancel Editing</button>\n    </span>\n    </form>\n    <br></br>\n    </div>\n        : \n        <div>\n    <h1>Shipping Info:</h1>\n    <h2>Ship To: {shipping ? shipping.ship_to : null} </h2>\n    <h2>Address: {shipping ? shipping.address : null} </h2>\n    <h2>Address Line 2: {shipping ? shipping.address_2 : null} </h2>\n    <h2>City: {shipping ? shipping.city : null} </h2>\n    <h2>State: {shipping ? shipping.state : null} </h2>\n    <h2>Zip Code: {shipping ? shipping.zip : null} </h2>\n    <button onClick={editInfo}>Change Default Shipping</button>\n    <br></br>\n    </div>\n        }\n    </div>\n    )\n}\n\nexport default ShippingInfo;"]},"metadata":{},"sourceType":"module"}