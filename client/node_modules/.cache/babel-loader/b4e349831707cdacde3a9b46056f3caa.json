{"ast":null,"code":"import _slicedToArray from\"/Users/noamlubofsky/Flatiron/Code/phase5/final-project/unicart/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{useParams}from\"react-router-dom\";import styled from\"styled-components\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function AccountInfo(_ref){var user=_ref.user;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),info=_useState2[0],setInfo=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),first=_useState4[0],setFirst=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),last=_useState6[0],setLast=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),email=_useState8[0],setEmail=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),edit=_useState10[0],setEdit=_useState10[1];var id=useParams().id;useEffect(function(){fetch(\"/account_infos/\".concat(id)).then(function(res){return res.json();}).then(function(data){setInfo(data);});},[id]);var createAccountInfo=function createAccountInfo(first,last,email){fetch(\"/account_infos\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({first_name:first,last_name:last,email:email,user_id:user.id})}).then(function(response){return response.json();})//   .then((info) => setInfo(info))\n//   .then(console.log(info))\n.then(editInfo);};var handleSubmit=function handleSubmit(e){e.preventDefault();createAccountInfo(first,last,email);fetch(\"/account_infos/\".concat(id)).then(function(res){return res.json();}).then(function(data){setInfo(data);});};var editInfo=function editInfo(){setEdit(!edit);fetch(\"/account_infos/\".concat(id)).then(function(res){return res.json();}).then(function(data){setInfo(data);});};return/*#__PURE__*/_jsx(\"div\",{children:edit?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Account Info:\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"First Name: \",/*#__PURE__*/_jsx(\"input\",{required:true,type:\"text\",value:first,placeholder:info?info.first_name:null,onChange:function onChange(e){return setFirst(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"h2\",{children:[\"Last Name: \",/*#__PURE__*/_jsx(\"input\",{required:true,type:\"text\",value:last,placeholder:info?info.last_name:null,onChange:function onChange(e){return setLast(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"h2\",{children:[\"Email Address: \",/*#__PURE__*/_jsx(\"input\",{required:true,type:\"text\",value:email,placeholder:info?info.email:null,onChange:function onChange(e){return setEmail(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Save Info\"}),/*#__PURE__*/_jsx(\"button\",{onClick:editInfo,children:\"Cancel Editing\"})]})]}),/*#__PURE__*/_jsx(\"br\",{})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Account Info:\"}),/*#__PURE__*/_jsxs(\"h2\",{children:[\"First Name: \",info?info.first_name:null]}),/*#__PURE__*/_jsxs(\"h2\",{children:[\"Last Name: \",info?info.last_name:null]}),/*#__PURE__*/_jsxs(\"h2\",{children:[\"Email Address: \",info?info.email:null]}),/*#__PURE__*/_jsx(\"button\",{onClick:editInfo,children:\"Edit Account Info\"}),/*#__PURE__*/_jsx(\"br\",{})]})});}export default AccountInfo;","map":{"version":3,"sources":["/Users/noamlubofsky/Flatiron/Code/phase5/final-project/unicart/client/src/components/AccountInfo.js"],"names":["React","useEffect","useState","useParams","styled","AccountInfo","user","info","setInfo","first","setFirst","last","setLast","email","setEmail","edit","setEdit","id","fetch","then","res","json","data","createAccountInfo","method","headers","body","JSON","stringify","first_name","last_name","user_id","response","editInfo","handleSubmit","e","preventDefault","target","value"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport styled from \"styled-components\";\n\nfunction AccountInfo({user}) {\n    const [info, setInfo] = useState([])\n    const [first, setFirst] = useState(null)\n    const [last, setLast] = useState(null)\n    const [email, setEmail] = useState(null)\n    const [edit, setEdit] = useState(false)\n    const id = useParams().id;\n\n    useEffect(() => {\n        fetch(`/account_infos/${id}`)\n          .then((res) => res.json())\n          .then((data) => {\n            setInfo(data);\n          });\n      }, [id]);\n\n    const createAccountInfo = (first, last, email) => {\n        fetch(\"/account_infos\", {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify({\n            first_name: first,\n            last_name: last,\n            email: email,\n            user_id: user.id,\n          }),\n        })\n          .then((response) => response.json())\n        //   .then((info) => setInfo(info))\n        //   .then(console.log(info))\n        .then(editInfo)\n      };\n    \n      const handleSubmit = (e) => {\n        e.preventDefault();\n        createAccountInfo(first, last, email);\n        fetch(`/account_infos/${id}`)\n        .then((res) => res.json())\n        .then((data) => {\n          setInfo(data);\n        });\n      };\n\n      const editInfo = () => {\n          setEdit(!edit)\n             fetch(`/account_infos/${id}`)\n        .then((res) => res.json())\n        .then((data) => {\n          setInfo(data);\n        });\n      }\n\n    return(\n        <div>\n        {edit ?\n    <div>\n    <h1>Account Info:</h1>\n    <form onSubmit={handleSubmit}>\n    <h2>First Name: <input required type=\"text\" value={first} placeholder={info ? info.first_name : null} onChange={(e) => setFirst(e.target.value)}></input></h2>\n    <h2>Last Name: <input required type=\"text\" value={last} placeholder={info ? info.last_name : null} onChange={(e) => setLast(e.target.value)}></input></h2>\n    <h2>Email Address: <input required type=\"text\" value={email} placeholder={info ? info.email : null} onChange={(e) => setEmail(e.target.value)}></input></h2>\n    <span>\n    <button type=\"submit\">Save Info</button>\n    <button onClick={editInfo}>Cancel Editing</button>\n    </span>\n    </form>\n    <br></br>\n    </div>\n        : \n        <div>\n        <h1>Account Info:</h1>\n        <h2>First Name: {info ? info.first_name : null}</h2>\n        <h2>Last Name: {info ? info.last_name : null}</h2>\n        <h2>Email Address: {info ? info.email : null}</h2>\n        <button onClick={editInfo}>Edit Account Info</button>\n        <br></br>\n        </div>\n        \n        }\n        </div>\n    )\n}\n\n\nexport default AccountInfo;"]},"metadata":{},"sourceType":"module"}