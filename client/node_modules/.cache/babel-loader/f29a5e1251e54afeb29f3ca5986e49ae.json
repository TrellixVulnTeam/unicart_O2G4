{"ast":null,"code":"var _jsxFileName = \"/Users/noamlubofsky/Flatiron/Code/phase5/final-project/unicart/client/src/components/CheckoutPayment.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport ShippingCard from \"./ShippingCard\";\nimport PaymentCard from \"./PaymentCard\";\nimport styled from \"styled-components\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction CheckoutPayment({\n  toShipping,\n  user,\n  setSelectedPayment\n}) {\n  _s();\n\n  const [payment, setPayment] = useState([]);\n  const [type, setType] = useState(null);\n  const [name, setName] = useState(null);\n  const [number, setNumber] = useState(null);\n  const [expiration, setExpiration] = useState(null);\n  const [cvv, setCvv] = useState(null);\n  const [edit, setEdit] = useState(false);\n  useEffect(() => {\n    fetch(`/payment_infos`).then(res => res.json()).then(data => {\n      setPayment(data);\n    });\n  }, []);\n\n  const createPaymentInfo = (type, name, number, expiration, cvv) => {\n    fetch(\"/payment_infos\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        card_type: type,\n        name_on_card: name,\n        card_number: number,\n        expiration: expiration,\n        cvv: cvv,\n        user_id: user.id\n      })\n    }).then(response => response.json()) //   .then((info) => setInfo(info))\n    //   .then(console.log(info))\n    .then(editInfo);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    createPaymentInfo(type, name, number, expiration, cvv);\n    fetch(`/payment_infos`).then(res => res.json()).then(data => {\n      setPayment(data);\n    });\n  };\n\n  const editInfo = () => {\n    setEdit(!edit);\n    fetch(`/payment_infos`).then(res => res.json()).then(data => {\n      setPayment(data);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: toShipping,\n      children: \"Back to Shipping\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Select Your Payment Method:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }, this), payment.map(payment => /*#__PURE__*/_jsxDEV(PaymentCard, {\n      payment: payment,\n      setSelectedPayment: setSelectedPayment\n    }, payment.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }, this)), !edit ? /*#__PURE__*/_jsxDEV(Button, {\n      onClick: editInfo,\n      children: \"Use a Different Payment Method\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 18\n    }, this) : null, !edit ? null : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(EditContainer, {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Payment Info:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: [\"Card Type: \", /*#__PURE__*/_jsxDEV(\"input\", {\n              required: true,\n              type: \"text\",\n              value: type,\n              placeholder: payment ? payment.card_typepayment : null,\n              onChange: e => setType(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 20\n            }, this), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: [\"Name on Card: \", /*#__PURE__*/_jsxDEV(\"input\", {\n              required: true,\n              type: \"text\",\n              value: name,\n              placeholder: payment ? payment.name_on_card : null,\n              onChange: e => setName(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 23\n            }, this), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: [\"Card Number: \", /*#__PURE__*/_jsxDEV(\"input\", {\n              required: true,\n              type: \"text\",\n              value: number,\n              placeholder: payment ? payment.card_number : null,\n              onChange: e => setNumber(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 22\n            }, this), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: [\"Expiration: \", /*#__PURE__*/_jsxDEV(\"input\", {\n              required: true,\n              type: \"text\",\n              value: expiration,\n              placeholder: payment ? payment.expiration : null,\n              onChange: e => setExpiration(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 21\n            }, this), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: [\"CVV: \", /*#__PURE__*/_jsxDEV(\"input\", {\n              required: true,\n              type: \"text\",\n              value: cvv,\n              placeholder: payment ? payment.cvv : null,\n              onChange: e => setCvv(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 14\n            }, this), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              children: \"Add Payment Method\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 5\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 5\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 15\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 9\n  }, this);\n}\n\n_s(CheckoutPayment, \"y1btwbQ34BPKYFF73v7p04yJbxg=\");\n\n_c = CheckoutPayment;\nconst Button = styled.button`\n\n  height: 5vw;\n  width: 25vw;\njustify-content: center;\nalign-items: center;\nmargin-left: 40%;\nmargin-bottom: 10vh;\n&:hover {\n    width: 25vw;\n    // height: 3vw;\n    border: 3px solid #F5931F;\n    background: transparent;\n    color: #F05A27;\n    cursor: pointer;\n`;\n_c2 = Button;\nconst EditContainer = styled.div`\nmargin-left: auto;\nmargin-right: auto;\nwidth: 30em;\n`;\n_c3 = EditContainer;\nexport default CheckoutPayment;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"CheckoutPayment\");\n$RefreshReg$(_c2, \"Button\");\n$RefreshReg$(_c3, \"EditContainer\");","map":{"version":3,"sources":["/Users/noamlubofsky/Flatiron/Code/phase5/final-project/unicart/client/src/components/CheckoutPayment.js"],"names":["React","useEffect","useState","ShippingCard","PaymentCard","styled","CheckoutPayment","toShipping","user","setSelectedPayment","payment","setPayment","type","setType","name","setName","number","setNumber","expiration","setExpiration","cvv","setCvv","edit","setEdit","fetch","then","res","json","data","createPaymentInfo","method","headers","body","JSON","stringify","card_type","name_on_card","card_number","user_id","id","response","editInfo","handleSubmit","e","preventDefault","map","card_typepayment","target","value","Button","button","EditContainer","div"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport ShippingCard from \"./ShippingCard\"\nimport PaymentCard from \"./PaymentCard\"\nimport styled from \"styled-components\";\n\nfunction CheckoutPayment({toShipping, user, setSelectedPayment}) {\n    const [payment, setPayment] = useState([])\n    const [type, setType] = useState(null)\n    const [name, setName] = useState(null)\n    const [number, setNumber] = useState(null)\n    const [expiration, setExpiration] = useState(null)\n    const [cvv, setCvv] = useState(null)\n    const [edit, setEdit] = useState(false)\n\n    useEffect(() => {\n        fetch(`/payment_infos`)\n          .then((res) => res.json())\n          .then((data) => {\n            setPayment(data);\n          });\n      }, []);\n\n      const createPaymentInfo = (type, name, number, expiration, cvv) => {\n        fetch(\"/payment_infos\", {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify({\n            card_type: type,\n            name_on_card: name,\n            card_number: number,\n            expiration: expiration,\n            cvv: cvv,\n            user_id: user.id,\n          }),\n        })\n          .then((response) => response.json())\n        //   .then((info) => setInfo(info))\n        //   .then(console.log(info))\n        .then(editInfo)\n      };\n    \n      const handleSubmit = (e) => {\n        e.preventDefault();\n        createPaymentInfo(type, name, number, expiration, cvv);\n        fetch(`/payment_infos`)\n        .then((res) => res.json())\n        .then((data) => {\n          setPayment(data);\n        });\n      };\n\n      const editInfo = () => {\n          setEdit(!edit)\n             fetch(`/payment_infos`)\n        .then((res) => res.json())\n        .then((data) => {\n          setPayment(data);\n        });\n      }\n\n    return(\n        <div>\n        <button onClick={toShipping}>Back to Shipping</button>\n        <h1>Select Your Payment Method:</h1>\n        {payment.map(payment => (\n          <PaymentCard\n            key={payment.id}\n            payment={payment}\n            setSelectedPayment={setSelectedPayment}\n          />\n        ))}\n        {!edit ? <Button onClick={editInfo}>Use a Different Payment Method</Button> : null }\n        {!edit ? null :  \n            <div>\n              <EditContainer>\n    <h1>Payment Info:</h1>\n    <form onSubmit={handleSubmit}>\n    <h2>Card Type: <input required type=\"text\" value={type} placeholder={payment ? payment.card_typepayment : null} onChange={(e) => setType(e.target.value)}></input> </h2>\n    <h2>Name on Card: <input required type=\"text\" value={name} placeholder={payment ? payment.name_on_card : null} onChange={(e) => setName(e.target.value)}></input> </h2>\n    <h2>Card Number: <input required type=\"text\" value={number} placeholder={payment ? payment.card_number : null} onChange={(e) => setNumber(e.target.value)}></input> </h2>\n    <h2>Expiration: <input required type=\"text\" value={expiration} placeholder={payment ? payment.expiration : null} onChange={(e) => setExpiration(e.target.value)}></input> </h2>\n    <h2>CVV: <input required type=\"text\" value={cvv} placeholder={payment ? payment.cvv : null} onChange={(e) => setCvv(e.target.value)}></input> </h2>\n    <span> \n    <button type=\"submit\">Add Payment Method</button>\n    </span>\n    </form>\n    <br></br>\n    </EditContainer>\n    </div> }\n        </div>\n    )\n}\n\nconst Button = styled.button`\n\n  height: 5vw;\n  width: 25vw;\njustify-content: center;\nalign-items: center;\nmargin-left: 40%;\nmargin-bottom: 10vh;\n&:hover {\n    width: 25vw;\n    // height: 3vw;\n    border: 3px solid #F5931F;\n    background: transparent;\n    color: #F05A27;\n    cursor: pointer;\n`;\n\nconst EditContainer = styled.div`\nmargin-left: auto;\nmargin-right: auto;\nwidth: 30em;\n`;\n\nexport default CheckoutPayment"]},"metadata":{},"sourceType":"module"}